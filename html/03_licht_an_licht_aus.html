<!DOCTYPE html>

<html lang="de">
<head>
  <meta charset="utf-8"/>
  <title>Licht an Licht aus</title>
</head>

<body>

<div class="pt-book">

<!-- load css file -->
<script type="text/javascript">
var fileref = document.createElement("link");
fileref.rel = "stylesheet";
fileref.type = "text/css";
fileref.href = "_css/pt-book.css";
document.getElementsByTagName("head")[0].appendChild(fileref)
</script>

<h2>
  Licht an, Licht aus
</h2>

<p>
  In diesem Kapitel wirst du aus dem micro:bit eine kleine Lampe basteln. Die Taste A soll der Lichtschalter sein. Die Lampe hat zwei Zust√§nde, n√§mlich <em>Licht an</em> und <em>Licht aus</em>, siehe Abb. 1. Zu Beginn ist man im Zustand <em>Licht aus</em>. Dr√ºckt man dann die Taste A, wechselt die Lampe in den Zustand <em>Licht an</em>. Dr√ºckt man wieder auf die Taste A, wechselt die Lampe wieder in den Zustand <em>Licht aus</em>.
</p>

<p class="image">
  <img src="licht_an_licht_aus/Zustandsdiagramm_Licht.jpg" alt="" width="100%" />
</p>

<p class="caption"><i>
  Abb. 1 ‚Äì Zustandsgraf f√ºr die Lampe (Bild: T. Jenni)
</i></p>

<p>
  Da der Computer gut mit Zahlen umgehen kann, versehen wir die Zust√§nde mit Zahlen. Zustand <em>Licht aus</em> soll mit der Zahl 1 und Zustand <em>Licht an</em> mit der Zahl 2 bezeichnet werden.
</p>

<p>
  Damit die Lampe weiss, in welchem Zustand sie ist, braucht es eine Variable. Erstelle eine Variable mit dem Namen <em class="variablen">Zustand</em>. Gehe dazu in den Bereich <em class="variablen">Variablen</em> und klicke auf <em class="variablen">Erstelle eine Variable ...</em>, siehe Video 1. Es erscheint eine Dialogbox, in welcher man den Namen der Variablen angeben kann. Nenne die Variable <em class="variablen">Zustand</em>. Sobald die Variable erstellt ist, erscheinen zwei neue Befehle. Der eine heisst <em class="variablen">setze Zustand auf 0</em> und der andere <em class="variablen">√§ndere Zustand um 1</em>. Mit dem ersten Befehl kann man den Wert der Variable setzen. Der zweite Befehl erh√∂ht oder erniedrigt den Variablenwert um die entsprechende Zahl. Zwischen diesen beiden Befehlen besteht scheinbar nur ein kleiner Unterschied. Es ist aber trotzdem wichtig, dass du sie auseinanderhalten kannst.
</p>


<p class="video">
  <video width="800" controls="true"><source src="licht_an_licht_aus/Variable_erstellen720.mov">licht_an_licht_aus/Variable_erstellen720.mov</video>
</p>
<p class="caption">
  Video 1 ‚Äì Variable erstellen (Video: T. Jenni)
</p>


<p>
  Nun geht es ans Programmieren. Erstelle zuerst das Startprogramm, siehe Abb. 1. Zu Beginn leuchtet die Lampe nicht, d.h. sie befindet sich im Zustand 1. Ziehe aus dem Bereich <em class="grundlagen">Grundlagen</em> den Befehl <em class="grundlagen">Bildschirm l√∂schen</em>        und h√§nge ihn <em class="grundlagen">beim Start</em> an. Aus dem Bereich <em class="variablen">Variablen</em> ziehe den Befehl <em class="variablen">setze Zustand auf 1</em> und f√ºge in ebenfalls <em class="grundlagen">beim Start</em>        an. Auf diese Weise ist die Lampe bereit gemacht oder <em>initialisiert</em>, wie der/die Fachmann/-frau sagt.
</p>

<p>
  Nun musst du noch auf den Tastendruck reagieren. Im Bereich <em class="eingabe">Eingabe</em> findest du den Befehl <em class="eingabe">wenn Knopf A gedr√ºckt</em>. Wenn die Taste gedr√ºckt wird, werden alle Befehle in diesem Zangenblock ausgef√ºhrt.
</p>

<p>
  Zuerst musst du √ºberpr√ºfen, in welchem Zustand die Lampe ist. Ziehe aus dem Bereich Logik einen <em class="logik">wenn-dann-Block</em> und h√§nge ihn in den Zangenblock. Ebenfalls im Logikbereich findest du die den <em class="logik">ist-gleich-Vergleichsblock</em>.
  Mit dem √ºberpr√ºfe, ob die Variable <em class="variablen">Zustand</em> den Wert 1 hat. Falls dies der Fall ist, wechsle in den Zustand 2. Schalte dazu alle LED's ein und setzen die Variable <em class="variablen">Zustand</em> auf den Wert 1. Falls das nicht der Fall ist, d.h. wenn Lampe im <em class="variablen">Zustand</em> 2 ist, werden alle Lichter abgestellt und die Variable <em class="variablen">Zustand</em> auf 1 gesetzt.
</p>


<p class="image">
  <img src="licht_an_licht_aus/microbit-Lampe.png" alt="" width="100%" />
</p>
<p class="caption">
  Abb 2. - Programm f√ºr die Lampe (Bild: T. Jenni)
</p>


<p>
  Das Programm ist nun fertig. Teste es doch gleich im Webbrowser. Klicke dazu auf die Taste A. Falls es funktioniert, kannst du das Programm auf deinen micro:bit laden und dann an die Batterie anschliessen. Fertig ist die kleine Taschenlampe. Super üôÇ.
</p>



<h3>
  Aufgaben
</h3>

<ol class="aufgaben">
  <li>
    Schreibe ein Programm, welches die Lampe nur dann leuchten l√§sst, wenn man die Taste A gedr√ºckt h√§lt.
  </li>
  <li>
    Erweitere das urspr√ºngliche Programm so, dass wenn man auf die Taste B dr√ºckt, die Lampe blinkt. Zeichne zuerst den Zustandsgrafen auf.
  </li>
  <li>
    √Ñndere das Programm so ab, dass sich unterschiedliche Helligkeiten einstellen lassen, indem man die Taste A mehrfach hintereinander dr√ºckt. Verwende dazu den Befehl <em class="led">Setze Helligkeit auf x</em>, den du unter <em class="led">LED / ... mehr</em> findest.
  </li>
</ol>



<hr class="footer">
<p>
  Autor:  T. Jenni<br />
  Letzte √Ñnderung: 17. Mai 2021
</p>

<p class="license">
  <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons Lizenzvertrag" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a>
</p>

<p>
  <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title" style="font-style: italic;">Einsteigerkurs f√ºr den BBC micro:bit</span> von <a xmlns:cc="http://creativecommons.org/ns#" href="https://github.com/tjenni/microbit" property="cc:attributionName" rel="cc:attributionURL">T. Jenni, et al.</a> ist lizenziert unter einer <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Namensnennung - Nicht-kommerziell - Weitergabe unter gleichen Bedingungen 4.0 International Lizenz</a>.
</p>

</div>

</body>
</html>
